<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FarmTech Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}

body{
  font-family:Inter,system-ui,sans-serif;
  background:#f4f7fb;
  color:#1f2937;
}

/* ================= SIDEBAR ================= */
.sidebar{
  position:fixed;
  top:0;left:0;
  width:240px;height:100vh;
  background:#ffffff;
  border-right:1px solid #e5e7eb;
  padding:22px;
  transform:translateX(-100%);
  transition:.3s;
  z-index:1000;
}
.sidebar.show{transform:translateX(0)}

.sidebar-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
  margin-bottom:30px;
}

.menu{list-style:none}
.menu li{margin-bottom:12px}

.menu a{
  display:flex;
  gap:12px;
  align-items:center;
  padding:12px 14px;
  border-radius:10px;
  text-decoration:none;
  color:#374151;
  font-weight:500;
  transition:.2s;
}
.menu a:hover{
  background:#e8f7ef;
  color:#047857;
}

/* ================= MAIN ================= */
.main-content{
  padding:26px;
  transition:.3s;
}
.sidebar.show ~ .main-content{margin-left:240px}

/* ================= TOP BAR ================= */
.top-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#ffffff;
  padding:16px 22px;
  border-radius:14px;
  box-shadow:0 10px 25px rgba(0,0,0,.05);
  margin-bottom:32px;
}

.menu-toggle{
  background:none;border:none;
  font-size:22px;cursor:pointer;
}

.logo{
  font-size:22px;
  font-weight:700;
  color:#047857;
}

.user-area{
  display:flex;
  align-items:center;
  gap:12px;
}

.logout-btn{
  background:#ef4444;
  color:white;
  border:none;
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
}

/* ================= HERO ================= */
.hero{
  background:linear-gradient(135deg,#047857,#10b981);
  color:white;
  padding:70px 30px;
  border-radius:26px;
  text-align:center;
  margin-bottom:60px;
}
.hero h1{font-size:36px;margin-bottom:14px}
.hero p{font-size:18px;margin-bottom:28px;opacity:.95}
.hero button{
  background:white;
  color:#047857;
  border:none;
  padding:14px 30px;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}

/* ================= FEATURES ================= */
.features{max-width:1200px;margin:auto}
.features h2{
  text-align:center;
  font-size:28px;
  margin-bottom:30px;
  color:#047857;
}
.feature-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:22px;
}
.feature-card{
  background:white;
  padding:30px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 12px 30px rgba(0,0,0,.05);
  transition:.25s;
}
.feature-card:hover{
  transform:translateY(-6px);
  box-shadow:0 20px 45px rgba(0,0,0,.08);
}
.feature-card i{
  font-size:34px;
  color:#10b981;
  margin-bottom:14px;
}

/* ================= AI ROBOT ================= */
.ai-robot{
  position:fixed;
  right:20px;
  bottom:120px;
  background:#047857;
  color:white;
  width:64px;height:64px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
}

/* ================= FOOTER ================= */
footer{
  background:#ffffff;
  margin-top:80px;
  padding:40px 20px;
  text-align:center;
  border-radius:22px 22px 0 0;
  color:#6b7280;
}

/* ================= AUTH MODAL ================= */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  justify-content:center;
  align-items:center;
  z-index:2000;
}
.modal-content{
  background:white;
  padding:30px;
  width:360px;
  border-radius:20px;
}
.tabs{display:flex;gap:10px;margin-bottom:20px}
.tab-btn{
  flex:1;padding:10px;border:none;
  border-radius:8px;cursor:pointer;
}
.tab-btn.active{background:#047857;color:white}
.form{display:none}
.form.active{display:block}
.form input{
  width:100%;padding:12px;
  margin-bottom:12px;
  border-radius:8px;
  border:1px solid #e5e7eb;
}
.form-btn{
  width:100%;
  background:#047857;
  color:white;
  border:none;
  padding:12px;
  border-radius:8px;
}

/* ================= RESPONSIVE ================= */
@media(max-width:900px){
  .sidebar.show ~ .main-content{margin-left:0}
  .ai-robot{display:none}
}
</style>
</head>

<body>

{% if user %}
<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <span>FarmTech</span>
    <i class="fas fa-times" onclick="toggleSidebar()"></i>
  </div>
  <ul class="menu">
    <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
    <li><a href="/plant/"><i class="fas fa-leaf"></i> Crop Disease Detection</a></li>
    <li><a href="/network/"><i class="fas fa-users"></i> Community</a></li>
    <li><a href="/predict/"><i class="fas fa-chart-line"></i> Crop Price Prediction</a></li>
    <li><a href="/ai/"><i class="fas fa-robot"></i> AI Assistant</a></li>
    <li><a href="/project/"><i class="fas fa-tractor"></i> My Farms</a></li>
  </ul>
</div>
{% endif %}

<div class="main-content">

  <!-- TOP BAR -->
  <div class="top-bar">
    <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
    <div class="logo">FarmTech</div>

    <div class="user-area">
      {% if user %}
        <span>{{ user.name }}</span>
        <a href="{{ url_for('logout') }}"><button class="logout-btn">Logout</button></a>
      {% endif %}
    </div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <h1>Smart Farming Starts Here</h1>
    <p>AI-powered tools for healthier crops & smarter decisions</p>
    <button onclick="document.getElementById('features').scrollIntoView()">Explore More</button>
  </section>

  <!-- FEATURES -->
  <section class="features" id="features">
    <h2>Our Key Features</h2>
    <div class="feature-grid">
      <div class="feature-card"><i class="fas fa-leaf"></i><h3>Crop Disease Detection</h3></div>
      <div class="feature-card"><i class="fas fa-users"></i><h3>Community Dashboard</h3></div>
      <div class="feature-card"><i class="fas fa-chart-line"></i><h3>Crop Price Prediction</h3></div>
      <div class="feature-card"><i class="fas fa-robot"></i><h3>AI Chat Bot</h3></div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    Â© 2025 FarmTech. Empowering farmers with AI ðŸŒ±
  </footer>

</div>

<!-- AI ROBOT -->
<a href="/ai/" class="ai-robot"><i class="fas fa-robot"></i></a>

<!-- AUTH MODAL -->
<div id="authModal" class="modal">
  <div class="modal-content">
    <h2>Login / Signup</h2>
    <div class="tabs">
      <button class="tab-btn active" onclick="switchForm('login')">Login</button>
      <button class="tab-btn" onclick="switchForm('signup')">Sign Up</button>
    </div>

    <form id="loginForm" class="form active" method="POST" action="{{ url_for('login') }}">
      <input type="email" name="email" placeholder="Email" required>
      <input type="password" name="password" placeholder="Password" required>
      <button class="form-btn">Login</button>
    </form>

    <form id="signupForm" class="form" method="POST" action="{{ url_for('signup') }}">
      <input type="text" name="name" placeholder="Full Name" required>
      <input type="email" name="email" placeholder="Email" required>
      <input type="password" name="password" placeholder="Password" required>
      <button class="form-btn">Sign Up</button>
    </form>
  </div>
</div>

<script>
function toggleSidebar(){
  const sb=document.getElementById("sidebar");
  if(sb) sb.classList.toggle("show");
}
function switchForm(type){
  loginForm.classList.toggle("active",type==="login");
  signupForm.classList.toggle("active",type==="signup");
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
}
{% if not user %}
window.onload=()=>document.getElementById("authModal").style.display="flex";
{% endif %}
</script>

</body>
</html>
