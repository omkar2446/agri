<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FarmTech Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>
<body >

  <!-- Sidebar (hidden if not logged in) -->
  {% if user %}
  <div id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <div class="user-icon">üßë‚Äçüåæ</div>
      <a href="{{ url_for('logout') }}"><span class="logout">Logout</span></a>
    </div>
    <ul class="menu">
    <li><a href="/network/"><i class="fas fa-users"></i> Community</a></li>
    <li><a href="/predict/"><i class="fas fa-seedling"></i> Crop Prediction</a></li>
    <li><a href="/plant/"><i class="fas fa-leaf"></i> Plant Recognition</a></li>
    <li><a href="/project/"><i class="fas fa-tractor"></i> My Farms</a></li>
    <li><a href="#"><i class="fas fa-chart-line"></i> Analytics</a></li>
</ul>    <li><a href="/ai/"><i class="fas fa-robot"></i> AI Assistant</a></li>

  </div>
  {% endif %}

  <!-- Main Content -->
  <div class="main-content">
    <header>
      <div class="top-bar">
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
        <div class="logo">FarmTech</div>
        <div class="notification">
          <i class="fa-solid fa-circle-user"></i>
          {% if user %}
            <span>Welcome, {{ user.name }}</span>
            <a href="{{ url_for('logout') }}">
              <button class="alert-btn">Logout</button>
            </a>
          {% endif %}
        </div>
      </div>
    </header>

    {% if user %}
    <!-- Show dashboard only if logged in -->
    <section class="hero">
      <h1>Empowering Farmers with AI for a Greener Future</h1>
      <p>From seed to harvest, let AI guide you towards climate-smart farming</p>
      <button class="cta-btn" class="menu-toggle" onclick="toggleSidebar()">Start Farming Smart</button>
    </section>

    <section class="stats">
      <div><strong>Saved</strong><br />1,20,000 litres of water</div>
      <div><strong>500+</strong><br />Farmers switched to natural farming</div>
      <div><strong>Reduced</strong><br />carbon emissions by 25%</div>
    </section>

    <section class="features">
      <div class="feature-box">
        <i class="fa-solid fa-robot fa-3x" style="color: green"></i>
        <h3>AI Crop Advisor</h3>
        <p>Best crop recommendations based on soil & climate</p>
      </div>
      <div class="feature-box">
        <i class="fa-solid fa-cloud-sun fa-4x" style="color: rgb(99,99,160)"></i>
            <li><a href="/ai/"><i class="fas fa-robot"></i> AI Assistant</a></li>

        <p>Get alerts and advice on optimal irrigation</p>
      </div>
       <div class="feature-box">
        <i class="fa-solid fa-robot fa-3x" style="color: green"></i>
        <h3>AI Crop Advisor</h3>
        <p>Best crop recommendations based on soil & climate</p>
      </div>
       <div class="feature-box">
        <i class="fa-solid fa-robot fa-3x" style="color: green"></i>
        <h3>AI Crop Advisor</h3>
        <p>Best crop recommendations based on soil & climate</p>
      </div>
       <div class="feature-box">
        <i class="fa-solid fa-robot fa-3x" style="color: green"></i>
        <h3>AI Crop Advisor</h3>
        <p>Best crop recommendations based on soil & climate</p>
      </div>
       <div class="feature-box">
        <i class="fa-solid fa-robot fa-3x" style="color: green"></i>
        <h3>AI Crop Advisor</h3>
        <p>Best crop recommendations based on soil & climate</p>
      </div>
    </section>
     <section class="carousel-section">
      <h2 class="carousel-title">FarmTech Highlights</h2>
      <div class="carousel-container">
        <div class="carousel-track">
          <img src="img1.jpg" alt="AI Crop Advisor">
          <img src="img2.jpg" alt="Smart Irrigation">
          <img src="img3.jpg" alt="Soil Health">
          <img src="img4.jpg" alt="Market Forecast">
          <img src="img5.jpg" alt="Community Support">
        </div>
      </div>
    </section>  +
    

    <footer class="footer">
      <div class="footer-left">
        
        
      </div>
      <div class="footer-right">
       
        <p>&copy; 2025 FarmTech Dashboard. All rights reserved.</p>
      </div>
    </footer>
    {% endif %}
  </div>

  <!-- Login/Signup Modal -->
  <div id="authModal" class="modal">
    <div class="modal-content">
      <h2>{% if not user %}Login / Signup{% endif %}</h2>
      <span class="close-btn" onclick="closeModal()">&times;</span>

      <div class="tabs">
        <button class="tab-btn active" onclick="switchForm('login')">Login</button>
        <button class="tab-btn" onclick="switchForm('signup')">Sign Up</button>
      </div>

      <!-- Login -->
      <form id="loginForm" class="form active" method="POST" action="{{ url_for('login') }}">
        <input type="email" name="email" placeholder="Email" required />
        <input type="password" name="password" placeholder="Password" required />
        <button type="submit" class="form-btn">Login</button>
      </form>

      <!-- Signup -->
      <form id="signupForm" class="form" method="POST" action="{{ url_for('signup') }}">
        <input type="text" name="name" placeholder="Full Name" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="password" name="password" placeholder="Password" required />
        <button type="submit" class="form-btn">Sign Up</button>
      </form>
    </div>
   
  </div>

  <script>
    function toggleSidebee() {
      document.getElementById("sidebar").classList.remove("show");
    }
    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("show");
    }
    function openModal() {
      document.getElementById("authModal").style.display = "flex";
    }
    function closeModal() {
      document.getElementById("authModal").style.display = "none";
    }
    function switchForm(form) {
      const loginForm = document.getElementById("loginForm");
      const signupForm = document.getElementById("signupForm");
      const tabs = document.querySelectorAll(".tab-btn");

      if (form === "login") {
        loginForm.classList.add("active");
        signupForm.classList.remove("active");
        tabs[0].classList.add("active");
        tabs[1].classList.remove("active");
      } else {
        signupForm.classList.add("active");
        loginForm.classList.remove("active");
        tabs[1].classList.add("active");
        tabs[0].classList.remove("active");
      }
    }

    // Auto open login modal if not logged in
    {% if not user %}
      window.onload = function() {
        openModal();
      }
    {% endif %}
  </script>
</body>
</html>
